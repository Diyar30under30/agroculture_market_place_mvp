<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile - Torlik Market</title>
    <base href="/static/">
    <link rel="stylesheet" href="gym.css">
    <link rel="stylesheet" href="frontend/lang.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200..700&family=Roboto+Slab:wght@100..900&display=swap" rel="stylesheet">
</head>
<body>
    <div class="wrapper">
        <header class="container">
            <span>Torlik Market</span>
            <nav>
                <ul>
                    <li><a class="listw" href="/" data-i18n="home">Home</a></li>
                    <li><a class="listw" href="/about" data-i18n="about">About</a></li>
                    <li><a class="listw" href="/storage" data-i18n="storage">Storage</a></li>
                    <li><a class="listw" href="/shop" data-i18n="shop">Shop</a></li>
                    <li><a class="listw" href="/admin" style="display:none" data-i18n="admin">Admin</a></li>
                    <li class="button"><a href="/profile" data-i18n="profile">Profile</a></li>
                </ul>
                <div class="language-switcher">
                    <button onclick="setLanguage('en')" class="lang-btn" id="lang-en">EN</button>
                    <button onclick="setLanguage('ru')" class="lang-btn" id="lang-ru">РУ</button>
                    <button onclick="setLanguage('kk')" class="lang-btn" id="lang-kk">ҚА</button>
                </div>
            </nav>
        </header>
    </div>

    <section class="api-panel">
        <div class="api-grid">
            <div class="api-card">
                <p class="api-eyebrow">Account</p>
                <h2>Create account</h2>
                <p class="api-lead">Register with your email and password.</p>
                <form id="register-form" class="api-stack">
                    <label>
                        Name
                        <input name="name" required minlength="2" />
                    </label>
                    <label>
                        Email
                        <input name="email" type="email" required />
                    </label>
                    <label>
                        Password
                        <input name="password" type="password" minlength="6" required />
                    </label>
                    <button type="submit" class="api-button">Register</button>
                </form>
                <div id="register-result" class="api-empty"></div>
            </div>

            <div class="api-card">
                <p class="api-eyebrow">Access</p>
                <h2>Login</h2>
                <p class="api-lead">No sessions yet, just credential check.</p>
                <form id="login-form" class="api-stack">
                    <label>
                        Email
                        <input name="email" type="email" required />
                    </label>
                    <label>
                        Password
                        <input name="password" type="password" minlength="6" required />
                    </label>
                    <button type="submit" class="api-button">Login</button>
                </form>
                <div id="login-result" class="api-empty"></div>
            </div>

            <div class="api-card">
                <p class="api-eyebrow">Account</p>
                <h2>My Profile</h2>
                <p class="api-lead">View your account details.</p>
                <button id="load-profile" class="api-button ghost">Load My Profile</button>
                <div id="profile-details" class="api-empty"></div>
            </div>
        </div>
    </section>

    <script src="frontend/lang.js"></script>
    <script src="frontend/nav-helper.js"></script>
    <script src="profile.js"></script>
    <script>
    const originalSetLanguage = window.setLanguage;
    window.setLanguage = function(lang) {
      originalSetLanguage(lang);
      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('lang-' + currentLanguage).classList.add('active');
    };
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.lang-btn').forEach(btn => btn.classList.remove('active'));
      document.getElementById('lang-' + currentLanguage).classList.add('active');
    });
    </script>
</body>
</html>
